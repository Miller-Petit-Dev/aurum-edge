# ===============================================
# AURUM-EDGE v2 - Configuración Principal
# ===============================================

project:
  name: "aurum-edge-v2"
  version: "2.0.0"
  description: "Motor de decisión ML para trading cuantitativo"

# -----------------------------------------------
# PATHS
# -----------------------------------------------
paths:
  data_raw: "data/raw"
  data_processed: "data/processed"
  data_features: "data/features"
  data_labels: "data/labels"
  models: "models"
  reports: "reports"
  logs: "logs"

# -----------------------------------------------
# ASSET CONFIGURATION
# -----------------------------------------------
# Por defecto: NAS100 M5
# Para cambiar activo, edita configs/assets/
asset: "nas100_m5"
asset_config_path: "configs/assets/nas100_m5.yaml"

# -----------------------------------------------
# LABELING
# -----------------------------------------------
labeling: "triple_barrier"
labeling_config_path: "configs/labeling/triple_barrier.yaml"

# -----------------------------------------------
# WALK-FORWARD
# -----------------------------------------------
walkforward_config_path: "configs/walkforward/wf_3m_2w.yaml"

# -----------------------------------------------
# RISK MANAGEMENT
# -----------------------------------------------
risk_config_path: "configs/risk/micro_account.yaml"

# -----------------------------------------------
# EXECUTION
# -----------------------------------------------
execution_config_path: "configs/execution/human_in_loop.yaml"

# -----------------------------------------------
# COSTS
# -----------------------------------------------
costs_config_path: "configs/costs/costs_default.yaml"

# -----------------------------------------------
# MODEL
# -----------------------------------------------
model:
  type: "xgboost"
  objective: "binary:logistic"
  eval_metric: "logloss"
  
  # Hyperparameter tuning
  tuning:
    enabled: true
    n_trials: 30
    timeout: 3600  # segundos
    optuna_sampler: "TPE"
    
  # Calibration
  calibration:
    enabled: true
    method: "isotonic"  # isotonic o sigmoid
    cv_folds: 3

  # Gating (promoción de modelos)
  gating:
    enabled: true
    min_profit_factor: 1.3
    max_drawdown: -0.15
    min_expectancy: 0.0
    min_trades: 50

# -----------------------------------------------
# FEATURE ENGINEERING
# -----------------------------------------------
features:
  # Returns
  returns_periods: [1, 3, 5, 10, 20]
  
  # Volatility
  volatility_windows: [10, 20, 50]
  atr_period: 14
  
  # Trend
  ema_periods: [9, 21, 50, 200]
  macd: {fast: 12, slow: 26, signal: 9}
  
  # Session
  session_splits: true  # Asian, London, NY
  
  # Microstructure (MVP: simple)
  tick_volume_zscore_window: 20
  spread_proxy: true  # Si no hay spread real
  
  # Leakage guards
  max_forward_shift: 0  # No permitir shift negativos
  validate_on_build: true

# -----------------------------------------------
# DATA QUALITY
# -----------------------------------------------
data_quality:
  # Gaps
  max_gap_minutes: 15
  
  # Outliers (z-score)
  outlier_threshold: 5.0
  
  # Monotonicidad
  check_monotonic_time: true
  
  # Mínimos
  min_rows: 1000
  min_days: 30

# -----------------------------------------------
# LOGGING
# -----------------------------------------------
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  format: "{time:YYYY-MM-DD HH:mm:ss} | {level: <8} | {name}:{function}:{line} - {message}"
  rotation: "100 MB"
  retention: "30 days"
  
# -----------------------------------------------
# MONITORING
# -----------------------------------------------
monitoring:
  enabled: true
  check_data_quality: true
  check_model_decay: true
  check_execution_health: true
  
  # Alertas
  alert_on_data_issues: true
  alert_on_model_decay: true
  alert_on_risk_breach: true

# -----------------------------------------------
# RANDOM SEED (para reproducibilidad)
# -----------------------------------------------
random_seed: 42
